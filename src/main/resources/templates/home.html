<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>我的工作台</title>
    <link rel="icon" href="http://localhost:8080/image/logo.svg" type="image/x-icon">
    <link rel="stylesheet" type="text/css"
          th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.min.css}"
          href="webjars/bootstrap/4.0.0/css/bootstrap.min.css"/>
    <script src="webjars/jquery/3.0.0/jquery.min.js"
            th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/home.css}"
          href="../../css/home.css"/>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="webjars/bootstrap/4.0.0/js/bootstrap.js"
            th:src="@{/webjars/bootstrap/4.0.0/js/bootstrap.js}"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
</head>
<body>
<div>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background:#545C64 ;padding: 0px;">
        <a href="#" class="navbar-brand"
           style="display: flex;flex-direction: row;align-items: center">
            <svg t="1617175126380" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="1055" width="35px" height="35px">
                <path d="M813.607846 477.139349c0 154.326113-125.064842 279.463205-279.390955 279.463205S254.753687 631.465462 254.753687 477.139349c0-120.729838 76.512806-223.469414 183.731884-262.556692 29.839272-10.909758 62.135046-16.834262 95.73132-16.834262 99.705073 0 187.199887 52.164538 236.618924 130.772596a277.917054 277.917054 0 0 1 42.772031 148.618358z"
                      fill="#FDBA13" p-id="1056"></path>
                <path d="M349.762506 248.106682c-20.374515 10.693008-11.126508 40.026529-25.432018 98.332322-27.88852 113.649333-92.263318 121.235589-90.601567 192.185141 0.50575 22.469766 30.561772 67.9873 90.601567 159.022366 34.174275 51.875538 45.951034 64.591547 61.846045 65.169548 37.570028 1.300501 41.47153-67.192549 101.583574-100.499824 66.325549-36.703027 111.265081 18.929514 174.483878-14.37776 36.486277-19.218514 35.041276-44.795033 99.416073-174.483878 60.979045-122.89734 85.616313-146.884358 72.900303-164.585621-30.417272-42.338531-179.107881 83.737811-326.931489 26.51577C425.336062 303.450222 383.720031 230.260919 349.762506 248.106682z"
                      fill="#E65125" p-id="1057"></path>
                <path d="M536.384393 474.538348m-170.076625 0a170.076625 170.076625 0 1 0 340.153249 0 170.076625 170.076625 0 1 0-340.153249 0Z"
                      p-id="1058"></path>
            </svg>
            <span style="margin-left:5px;font-size: 14px; color: white">DEV-MANAGEMENT</span>
        </a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent" style="margin-left: 50px; font-size: 12px;">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item" id="home" style="background:#8f8f8f;border-radius: 2px;height: 16px">
                    <a class="nav-link text-white" style="color: white" href="/home/index">工作台</a>
                </li>
                <li class="nav-item" id="doc">
                    <a class="nav-link text-white" href="/doc/document">文档</a>
                </li>
                <li class="nav-item" id="project">
                    <a class="nav-link text-white" href="/project/index">项目</a>
                </li>
                <li class="nav-item" id="msg">
                    <a class="nav-link text-white" href="/message/index">消息</a>
                </li>
                <li class="nav-item" id="setting">
                    <a class="nav-link text-white" href="/human/index">人员管理</a>
                </li>
            </ul>
        </div>
        <ul class="nav navbar-nav navbar-right "
            style="margin-right: 30px;display: flex;flex-direction: row;align-items: center">
            <li class="nav-item dropdown" style="display: flex;flex-direction: row" id="myself">
                <a class="dropdown-toggle nav-link" id="navbarScrollingDropdown" role="button" data-toggle="dropdown"
                   aria-expanded="false">
                    <span th:text="${session.username}"></span>
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown" style="width: 30px;padding: 0">
                    <li><a class="dropdown-item" href="/logout" style="font-size: 14px">退出</a></li>
                </ul>
            </li>
        </ul>
    </nav>
</div>
<div style="padding-bottom: 60px;display: flex;flex-direction: column;height: 100%">
    <div style="display: flex;flex-direction: row;height: 400px;">
        <div style="display: flex;flex-direction: column;margin-top: 30px; padding-left: 20px;width: 300px">
            <ul class="list-group">
                <li class="list-group-item nav-item d-flex justify-content-between align-items-center btn-outline-warning"
                    style="border-color: #545C64;margin-top: 40px;padding: 8px"
                    th:classappend="${tabIndex==1}?'active':''">
                    <a href="/home/index?tabIndex=1" class="nav-link "
                       style="color: #545C64;display: flex;flex-direction: row;align-items: center;font-size: 14px;">
                        <svg t="1616335032204" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="2264" width="27" height="27"
                             style="margin-right: 8px;">
                            <path d="M482.761 89.134h-53.622v80.438c-195.728 21.451-348.558 189.027-348.558 388.774 0 214.498 174.275 388.774 388.774 388.774 158.191 0 294.934-95.181 355.26-230.585l60.33 16.086c29.492-48.26 53.622-116.631 53.622-199.749 0-245.329-214.497-443.741-455.804-443.741v0zM469.354 893.498c-185.002 0-335.151-150.146-335.151-335.151 0-168.916 131.381-311.022 294.934-335.151v360.624l340.514 119.311c-45.585 113.949-175.622 190.367-300.299 190.367v0zM846.065 668.277l-363.301-123.338v-402.182c209.134-1.339 399.501 179.641 399.501 390.117-0.001 56.306-14.749 97.865-36.198 135.402v0zM846.065 668.277z"
                                  p-id="2265" fill="#545C64"></path>
                        </svg>
                        我的仪表盘</a>
                </li>
                <li class="list-group-item nav-item d-flex justify-content-between align-items-center btn-outline-warning"
                    style="border-color: #545C64;padding: 8px"
                    th:classappend="${tabIndex==2}?'active':''">
                    <a href="/home/index?tabIndex=2" class="nav-link "
                       style="color: #545C64;display: flex;flex-direction: row;align-items: center;font-size: 14px;">
                        <svg t="1620272800944" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="4557" width="22" height="22"
                             style="margin-right: 8px;">>
                            <path d="M921.6 972.8V368.64h51.2v604.16h-51.2z m26.53696-689.89952L867.07712 198.144 660.6848 413.9264a23.86432 23.86432 0 0 1-34.816 0L385.65888 162.816 93.21984 468.51584a23.86944 23.86944 0 0 1-34.816 0 26.56768 26.56768 0 0 1 0-36.39808l309.84704-323.9168a23.86944 23.86944 0 0 1 34.816 0l240.20992 251.13088 188.98432-197.57056-81.05984-84.74624a25.19552 25.19552 0 0 1 24.61696-25.73312h172.31872a25.1904 25.1904 0 0 1 24.61696 25.73824v180.14208a25.1904 25.1904 0 0 1-24.61696 25.73824zM122.88 972.8H71.68v-358.4h51.2v358.4z m281.6 0H353.28V435.2h51.2v537.6z m286.72 0h-51.2v-409.6h51.2v409.6z"
                                  p-id="4558" fill="#545C64"></path>
                        </svg>
                        我参与的项目进度
                    </a>
                </li>
                <li class="list-group-item nav-item d-flex justify-content-between align-items-center btn-outline-warning"
                    style="border-color: #545C64;padding: 8px"
                    th:classappend="${tabIndex==3}?'active':''">
                    <a href="/home/index?tabIndex=3" class="nav-link"
                       style="color: #545C64;display: flex;flex-direction: row;align-items: center;font-size: 14px;">
                        <svg t="1617529277235" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="2964" width="23" height="23"
                             style="margin-right: 8px;">
                            <path d="M758.4 428.8c0-14.4-14.4-27.2-27.2-27.2H238.4c-14.4 0-27.2 14.4-27.2 27.2s14.4 27.2 27.2 27.2h491.2c14.4 1.6 28.8-12.8 28.8-27.2zM400 566.4h-155.2c-16 0-30.4 11.2-30.4 27.2 0 14.4 14.4 27.2 30.4 27.2H400c16 0 30.4-14.4 30.4-27.2 0-16-14.4-27.2-30.4-27.2z m0 166.4h-155.2c-16 0-30.4 11.2-30.4 27.2 0 14.4 14.4 27.2 30.4 27.2H400c16 0 30.4-14.4 30.4-27.2 0-16-14.4-27.2-30.4-27.2z m329.6-496H238.4c-14.4 0-27.2 14.4-27.2 27.2 0 14.4 14.4 27.2 27.2 27.2h491.2c14.4 0 27.2-14.4 27.2-27.2 1.6-14.4-12.8-27.2-27.2-27.2zM484.8 953.6H102.4V70.4h764.8v412.8c0 16 11.2 27.2 27.2 27.2s27.2-11.2 27.2-27.2V43.2c0-14.4-14.4-27.2-27.2-27.2H75.2C62.4 16 48 30.4 48 43.2v937.6c0 12.8 14.4 27.2 27.2 27.2h409.6c16 0 27.2-11.2 27.2-27.2s-11.2-27.2-27.2-27.2z m273.6-387.2c-120 0-217.6 99.2-217.6 220.8S636.8 1008 758.4 1008 976 908.8 976 787.2s-97.6-220.8-217.6-220.8z m0 387.2c-89.6 0-163.2-73.6-163.2-164.8S668.8 624 758.4 624s163.2 73.6 163.2 164.8S848 953.6 758.4 953.6z m81.6-193.6h-54.4v-54.4c0-14.4-14.4-27.2-27.2-27.2-14.4 0-27.2 14.4-27.2 27.2v83.2c0 14.4 14.4 27.2 27.2 27.2h81.6c14.4 0 27.2-14.4 27.2-27.2 0-14.4-14.4-28.8-27.2-28.8z"
                                  fill="#545C64" p-id="2965"></path>
                        </svg>
                        我的待办</a>
                    <span class="badge rounded-pill" style="background-color: #FFD04B;color: #545C64"
                          id="stayDoing"></span>
                </li>
                <li class="list-group-item nav-item d-flex justify-content-between align-items-center btn-outline-warning"
                    style="border-color: #545C64;padding: 8px"
                    th:classappend="${tabIndex==4}?'active':''">
                    <a href="/home/index?tabIndex=4" class="nav-link"
                       style="color: #545C64;display: flex;flex-direction: row;align-items: center;font-size: 14px;">
                        <svg t="1616335508621" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="5643" width="25" height="25"
                             style="margin-right: 8px;">
                            <path d="M859.46055 353.084641l-46.13576-53.890374L610.745978 62.573127 212.80471 62.573127c-54.943356 0-99.485829 44.542472-99.485829 99.485829l0 697.458899c0 54.943356 44.542472 99.488899 99.485829 99.488899l596.912925 0c54.940286 0 99.485829-44.545542 99.485829-99.488899L909.203464 411.18592 859.46055 353.084641zM660.488893 172.141592l157.5165 189.241039L710.231807 361.382631c-27.473725 0-49.742914-22.293749-49.742914-49.803289L660.488893 172.141592zM859.46055 859.462596c0 27.470655-22.269189 49.742914-49.742914 49.742914L212.80471 909.205511c-27.476795 0-49.742914-22.272259-49.742914-49.742914L163.061796 162.116261c0-27.467585 22.26612-49.742914 49.742914-49.742914l397.942291 0 0 199.204971c0 55.009871 44.542472 99.606579 99.485829 99.606579l149.228743 0L859.461573 859.462596z"
                                  p-id="5644" fill="#545C64"></path>
                            <path d="M262.546601 510.789429l348.199377 0 0 49.803289-348.199377 0 0-49.803289Z"
                                  p-id="5645"
                                  fill="#545C64"></path>
                            <path d="M262.546601 361.382631l248.713548 0 0 49.803289-248.713548 0 0-49.803289Z"
                                  p-id="5646"
                                  fill="#545C64"></path>
                            <path d="M262.546601 211.980949l248.713548 0 0 49.79715-248.713548 0 0-49.79715Z"
                                  p-id="5647"
                                  fill="#545C64"></path>
                            <path d="M342.677617 627.996874 307.504536 663.21498 448.198905 804.073078 483.371986 839.291185 518.544043 804.073078 764.759701 557.565778 729.58662 522.353812 483.371986 768.861112Z"
                                  p-id="5648" fill="#545C64"></path>
                        </svg>
                        我的已办</a>
                    <span class="badge rounded-pill" style="background-color: #FFD04B;color: #545C64"
                          id="haveDone"></span>
                </li>
                <li class="list-group-item nav-item d-flex justify-content-between align-items-center btn-outline-warning"
                    style="border-color: #545C64;padding: 8px"
                    th:classappend="${tabIndex==5}?'active':''">
                    <a href="/home/index?tabIndex=5" class="nav-link"
                       style="color: #545C64;display: flex;flex-direction: row;align-items: center;font-size: 14px;">
                        <svg t="1616335748941" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="5824" width="25" height="25"
                             style="margin-right: 8px;">
                            <path d="M312.575 533.517l-119.491 241.657c-10.022 27.201 11.769 51.578 38.975 38.961l241.729-119.454c10.426-2.027 20.532-6.062 28.607-14.133l429.431-429.302c21.559-21.55 21.559-56.505 0-78.053l-97.597-97.569c-21.559-21.555-56.519-21.555-78.079 0l-429.437 429.298c-8.071 8.076-12.112 18.173-14.139 28.599v0zM775.667 134.164c10.775-10.779 28.257-10.779 39.036 0l58.56 58.548c10.78 10.774 10.78 28.24 0 39.024l-58.56 58.534-96.201-98.965 57.164-57.14zM677.371 232.428l98.292 96.873-312.314 312.219c-24.933-24.918-19.954-19.949-17.652-17.644l-60.427-60.411c-10.784-10.78-9.15-9.147-19.522-19.514l311.622-311.521zM414.718 670.949l-149.275 90.331c-13.601 6.31-25.804-6.757-19.484-19.484l90.353-149.216 78.404 78.371zM893.029 392.828v444.148c0 30.489-30.172 55.849-60.656 55.849h-662.522c-30.487 0-55.212-24.715-55.212-55.191v-662.316c0-30.484 25.45-60.091 55.938-60.091h444.582v-55.523h-444.577c-60.985 0-111.146 54.647-111.146 115.614v662.314c0 60.955 49.438 110.38 110.416 110.38h662.514c60.985 0 116.235-50.078 116.235-111.037v-444.147h-55.571zM893.029 392.828z"
                                  p-id="5825" fill="#545C64"></path>
                        </svg>
                        我创建的</a>
                    <span class="badge rounded-pill" style="background-color: #FFD04B;color: #545C64"
                          id="iCreate"></span>
                </li>
            </ul>
        </div>
        <div style="height:300px;width:74%;margin-left: 20px;margin-top:60px;border-radius: 2px;
                display: flex;flex-direction: row" class="border">
            <div style="display: flex;flex-direction: row;width: 100%" th:if="${tabIndex eq 1}">
                <div id="myProgress" style="width: 50%;height: 100%" class="border-right">
                </div>
                <div id="taskDistribute" style="width: 50%;height: 100%">
                </div>
            </div>
            <div style="display: flex;flex-direction: row;width: 100%;overflow-x: auto" th:if="${tabIndex eq 2}">
                <div id="container" style="height: 290px; margin: 0 auto;">
                </div>
            </div>
            <div style="display: flex;flex-direction: column;width: 100%;overflow-y: auto" th:if="${tabIndex eq 3}">
                <ul class="list-group">
                    <a th:href="@{'/project/index?id='+${item.projectId}}" th:each="item:${task_list}"
                       class="list-group-item list-group-item-action"
                       style="display: flex;flex-direction: row;align-items: center">
                        <span class="badge rounded-pill badge-dark" th:text="${item.type}"></span>
                        <div style="font-size: 14px;margin-left: 8px" th:text="${item.title}">
                        </div>
                        <div style="margin-left: auto;margin-right: 10px;display: flex;flex-direction: row;align-items: center">
                            <span class="badge rounded-pill badge-danger" th:if="${item.priority} eq 1">high</span>
                            <span class="badge rounded-pill badge-warning"
                                  th:if="${item.priority} eq 2">middle</span>
                            <span class="badge rounded-pill badge-success" th:if="${item.priority} eq 3">low</span>
                            <span class="badge badge-info" style="margin-left: 5px">预计结束时间：<span
                                    th:text="${item.endTime}"> </span></span>
                            <span class="badge badge-info" th:text="${item.projectName}"
                                  style="margin-left: 5px;"></span>
                        </div>
                    </a>
                </ul>
            </div>
            <div style="display: flex;flex-direction: column;width: 100%;overflow-y: auto" th:if="${tabIndex eq 4}">
                <ul class="list-group">
                    <a th:href="@{'/project/index?id='+${item.projectId}}" th:each="item:${task_list}"
                       class="list-group-item list-group-item-action"
                       style="display: flex;flex-direction: row;align-items: center">
                        <span class="badge rounded-pill badge-dark" th:text="${item.type}"></span>
                        <div style="font-size: 14px;margin-left: 8px" th:text="${item.title}">
                        </div>
                        <div style="margin-left: auto;margin-right: 10px;display: flex;flex-direction: row;align-items: center">
                            <span class="badge rounded-pill badge-danger" th:if="${item.priority} eq 1">high</span>
                            <span class="badge rounded-pill badge-warning"
                                  th:if="${item.priority} eq 2">middle</span>
                            <span class="badge rounded-pill badge-success" th:if="${item.priority} eq 3">low</span>
                            <span class="badge badge-info" style="margin-left: 5px">预计结束时间：<span
                                    th:text="${item.endTime}"> </span></span>
                            <span class="badge badge-info" th:text="${item.projectName}"
                                  style="margin-left: 5px;"></span>
                        </div>
                    </a>
                </ul>
            </div>
            <div style="display: flex;flex-direction: column;width: 100%;overflow-y: auto" th:if="${tabIndex eq 5}">
                <ul class="list-group">
                    <a th:href="@{'/project/index?id='+${item.projectId}}" th:each="item:${task_list}"
                       class="list-group-item list-group-item-action"
                       style="display: flex;flex-direction: row;align-items: center">
                        <span class="badge rounded-pill badge-dark" th:text="${item.type}"></span>
                        <div style="font-size: 14px;margin-left: 8px" th:text="${item.title}">
                        </div>
                        <div style="margin-left: auto;margin-right: 10px;display: flex;flex-direction: row;align-items: center">
                            <span class="badge rounded-pill badge-danger" th:if="${item.priority} eq 1">high</span>
                            <span class="badge rounded-pill badge-warning"
                                  th:if="${item.priority} eq 2">middle</span>
                            <span class="badge rounded-pill badge-success" th:if="${item.priority} eq 3">low</span>
                            <span class="badge badge-info" style="margin-left: 5px">预计结束时间：<span
                                    th:text="${item.endTime}"> </span></span>
                            <span class="badge badge-info" th:text="${item.projectName}"
                                  style="margin-left: 5px;"></span>
                        </div>
                    </a>
                </ul>
            </div>
        </div>
    </div>
    <div style="display: flex;flex-direction: row; width: 96%;margin: 0 auto">
        <div class="border" style="height: 400px;padding: 15px;width: 60%;margin: 0 auto;margin-top: -5px; display: flex;flex-direction: column;">
            <div style="margin-left: 10px">
                <h5>我的项目</h5>
            </div>
            <div style="display: flex;flex-direction: row;overflow-x: auto;width: 100%">
                <div th:if="${#lists.isEmpty(project_list)}">
                    <div class="card" style="width: 13rem; display: flex;">
                        <img th:src="@{'/image/bg1.svg'}" class="card-img-top" alt="..."
                             style="width: 13rem;height: 13rem;margin: 0 auto">
                        <div class="card-body" style="display: flex; flex-direction: column;background: #f6f6f6">
                            <h5 class="card-title">空~</h5>
                        </div>
                    </div>
                </div>
                <div style="margin-right: 10px" th:each="item,idx : ${project_list}">
                    <div class="card" style="width: 13rem; display: flex;">
                        <img th:src="@{'/image/bg'+${(idx.index)%6+1}+'.svg'}" class="card-img-top" alt="..."
                             style="width: 13rem;height: 13rem;margin: 0 auto">
                        <div class="card-body " style="display: flex; flex-direction: column;background: rgb(247,247,247)">
                            <h5 class="card-title" th:text="${item.name}" style="font-weight: bolder"></h5>
                            <a th:href="@{'/project/index?id='+${item.id}}" class="stretched-link text-warning"
                               style="margin-left: auto;font-weight: bolder">
                                跳转
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="border-right border-top border-bottom" style="display: flex;flex-direction:column;width: 40%; padding-top: 15px;padding-left:15px;padding-right:15px;margin-top: -5px;height: 400px">
            <span class="border-bottom border-dark" style="font-size: 14px;font-weight: bolder;padding: 5px">最近动态</span>
            <ul class="list-group" style="overflow-y: auto;height: 360px;margin-top: 10px;">
                <li class="list-group-item list-group-item-action" th:each="item : ${message_list}"
                    style="display: flex;flex-direction: row;align-items: center">
                    <span th:text="${item.title}" style="font-size: 14px;width: 80%;text-overflow: ellipsis;overflow-x: hidden;white-space: nowrap;"></span>
                    <span class="badge badge-warning" th:text="${item.project}" style="margin-left: auto;margin-right: 5px; width: 15%"></span>
                </li>
            </ul>
        </div>

    </div>

</div>
<div class="footer" style="
    left: 0;
    bottom: 0;
    width: 100%;
    background-color: #f6f6f6;
    color: #808080;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px">
    <span style="height: 40px;line-height: 40px ">© 2021 Copyright: 李景根</span>
</div>
</body>
<script>
    $(document).ready(function () {
        var chart = {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        };
        var title = {
            text: '我的任务完成情况'
        };
        var title2 = {
            text: "我的任务分布"
        }
        var tooltip = {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        }

        var credits = {
            enabled: false
        }
        var plotOptions = {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}%</b>: {point.percentage:.1f} %',
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                }
            }
        };
        var series = [{
            type: 'pie',
            name: 'Browser share',
            data: [
                ['进行中', 20],
                ['超期', 20],
                ['测试中', 20],
                ['已完成', 10],
            ]
        }];
        var series2 = [{
            type: 'pie',
            name: 'Browser share',
            data: [
                ['开发', 20],
                ['测试', 20],
                ['bug', 20],
            ]
        }];
        var json = {};
        json.chart = chart;
        json.title = title;
        json.tooltip = tooltip;
        json.series = series;
        json.plotOptions = plotOptions;
        json.credits = credits;
        var json2 = {};
        json2.chart = chart;
        json2.title = title2;
        json2.tooltip = tooltip;
        json2.series = series2;
        json2.plotOptions = plotOptions;
        json2.credits = credits;

        var chart3 = {
            type: 'column'
        };
        var title3 = {
            text: '需求完成情况'
        };
        var xAxis = {
            categories: [],
            crosshair: true
        };
        var yAxis = {
            min: 0,
            title: {
                text: '数量'
            }
        };
        var tooltip3 = {
            formatter: function () {
                var s = '<b>' + this.x + '</b>';
                $.each(this.points, function () {
                    s += '<br/>' + this.series.name + ': ' +
                        this.y;
                });
                return s;
            },
            footerFormat: '</table>',
            shared: true,
            useHTML: true
        };
        var plotOptions = {
            column: {
                pointPadding: 0.2,
                borderWidth: 0
            }
        };
        var credits3 = {
            enabled: false
        };

        var series3 = [{
            name: '已完成',
            data: []
        }, {
            name: '未完成',
            data: []
        }]

        var json3 = {};
        json3.chart = chart3;
        json3.title = title3;
        json3.tooltip = tooltip3;
        json3.xAxis = xAxis;
        json3.yAxis = yAxis;
        json3.series = series3;
        json3.plotOptions = plotOptions;
        json3.credits = credits3;

        $.ajax({
            url: "http://localhost:8080/project/statistic",
            dataType: "json",
            type: "post",
            async: true,
            success: function (res) {
                console.log(res)
                series[0].data[0] = ["进行中", res.data.progressing];
                series[0].data[1] = ["超期", res.data.overdue];
                series[0].data[2] = ["测试中", res.data.testing];
                series[0].data[3] = ["已完成", res.data.finished];
                series2[0].data[0] = ["开发", res.data.dev];
                series2[0].data[1] = ["测试", res.data.test];
                series2[0].data[2] = ["bug", res.data.bug];
                xAxis.categories = new Array()
                series3[0].data = new Array()
                series3[1].data = new Array()
                if (res.data.project.length > 0) {
                    for (let i = 0; i < res.data.project.length; i++) {
                        xAxis.categories.push(res.data.project[i])
                        series3[0].data.push(res.data.wanCheng[i])
                        series3[1].data.push(res.data.weiWanCheng[i])
                        $('#container').highcharts(json3);
                    }
                }
                $('#myProgress').highcharts(json);
                $('#taskDistribute').highcharts(json2);
                $('#haveDone').text(res.data.finished)
                $('#stayDoing').text(res.data.progressing + res.data.overdue)
                $('#iCreate').text(res.data.icreate)
            },
        })


    });
</script>
</html>